!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=4)}([function(module,exports,__webpack_require__){"use strict";function sendFormCotizar(){var $input_origen=$("#input_origen"),$input_destino=$("#input_destino"),$input_tipo_viaje=$("#input_tipo_viaje"),$input_salida=$("#input_salida"),$input_regreso=$("#input_regreso"),$input_dias=$("#input_dias"),$input_pasajero=$("#input_pasajero"),$input_adulto_mayor=$("#input_adulto_mayor"),$input_code_promocion=$("#input_code_promocion"),$email=$("#email"),$msg_error=$("#message_error");$msg_error.css("display","none"),$msg_error[0].innerHTML="";var data={origen:$input_origen.val(),destino:$input_destino.val(),tipo_viaje:$input_tipo_viaje.val(),salida:$input_salida.val(),regreso:$input_regreso.val(),dias:$input_dias.val(),pasajero:$input_pasajero.val(),adulto_mayor:$input_adulto_mayor.val(),promocion:$input_code_promocion.val(),email:$email.val()};if(console.log("Datos a enviar"),console.log(data),$input_origen.css("border","1px solid transparent"),$input_destino.css("border","1px solid transparent"),$input_tipo_viaje.css("border","1px solid transparent"),$input_salida.css("border","1px solid transparent"),$input_regreso.css("border","1px solid transparent"),$input_dias.css("border","1px solid transparent"),$input_pasajero.css("border","1px solid transparent"),$input_adulto_mayor.css("border","1px solid transparent"),$input_code_promocion.css("border","1px solid transparent"),$email.css("border","1px solid transparent"),""!==data.origen&&""!==data.destino&&""!==data.tipo_viaje&&""!==data.salida&&""!==data.regreso&&""!==data.dias&&""!==data.pasajero&&""!==data.adulto_mayor&&""!==data.email&&data.email.indexOf("@")!==-1)$.ajax({url:"/plataform-pricing/validate",method:"POST",data:data,success:function(result){console.log(result),"ok"===result.status?window.location.href="/plataform-pricing/"+result.code:console.log("error")}});else{var msg="";""===data.origen?(msg="El campo origen es obligatorio",$input_origen.css("border","1px solid #F3182B")):""===data.destino?(msg="El campo destino es obligatorio",$input_destino.css("border","1px solid #F3182B")):""===data.tipo_viaje?(msg="El campo tipo de viaje es obligatorio",$input_tipo_viaje.css("border","1px solid #F3182B")):""===data.salida?(msg="El campo salida es obligatorio",$input_salida.css("border","1px solid #F3182B")):""===data.regreso?(msg="El campo regreso es obligatorio",$input_regreso.css("border","1px solid #F3182B")):""===data.dias?(msg="El campo dias es obligatorio",$input_dias.css("border","1px solid #F3182B")):""===data.pasajero?(msg="El campo pasajero es obligatorio",$input_pasajero.css("border","1px solid #F3182B")):""===data.adulto_mayor?(msg="El campo adulto_mayor es obligatorio",$input_adulto_mayor.css("border","1px solid #F3182B")):""===data.email?(msg="El campo email es obligatorio",$email.css("border","1px solid #F3182B")):data.email.indexOf("@")===-1?(msg="El campo email no es valido",$email.css("border","1px solid #F3182B")):msg="Los campos son obligatorios",$msg_error.css("display","block"),$msg_error[0].innerHTML=msg}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendFormCotizar=sendFormCotizar},function(module,exports,__webpack_require__){"use strict";function pay(){function ConnectCulqi(user_send_id,type_send_service){console.log("Comprando servicio: "+type_send_service),$("#message_error")[0].innerHTML="PROCESANDO...",$.ajax({method:"post",url:"http://localhost:5000/payment/"+user_send_id+"/"+type_send_service,success:function(resultado){if(console.log("RESULTADO DE LA CREACION DE VENTAS"),console.log(resultado),"venta_registrada"===resultado.status){var receiveMessage=function(event){if("checkout_cerrado"==event.data)checkout.respuesta=event.data,culqi_front(checkout,"La caja de pago fue cerrada."),checkout.cerrar();else if("parametro_invalido"==event.data)checkout.respuesta=event.data,culqi_front(checkout,"Los parametros ingresados son invalidos, Ingrese los campos correctamente."),checkout.cerrar();else if("venta_expirada"==event.data)checkout.respuesta=event.data,culqi_front(checkout,"Tiempo limite concluido, Venta expirada."),checkout.cerrar();else if("error"==event.data)checkout.respuesta=event.data,culqi_front(checkout,"Error en el envio de datos de la caja."),checkout.cerrar();else{var obj=JSON.parse(event.data),venta_id=obj.id,venta=obj.venta;"Culqi"==venta_id?(console.log("Se completó el proceso de pago, respuesta enviada al comercio."),checkout.respuesta=venta,culqi(checkout)):console.log("No es de CULQI"+event.data)}},culqi=function(checkout){console.log("RESPUESTA de culqi sobre el proceso de pago"),console.log(checkout.respuesta),$.ajax({method:"post",url:"http://localhost:5000/payment/check/"+user_send_id+"/"+type_send_service+"?_method=put",contentType:"application/json",data:JSON.stringify({respuesta:checkout.respuesta}),success:function(data){if(console.log("DATA UPGRADE ??"),console.log(data),"check_not_pass"===data.process_messages)console.log(data.status);else{var obj=data;console.log("Respuesta del usuario. Pago?, Error?");var tipo_respuesta_venta=obj.process_messages.codigo_respuesta;"venta_exitosa"==tipo_respuesta_venta?(console.log("codigo respuesta: "+obj.process_messages.codigo_respuesta),console.log("mensaje respuesta: "+obj.process_messages.mensaje_respuesta),console.log("mensaje respuesta usuario: "+obj.process_messages.mensaje_respuesta_usuario),checkout.cerrar(),console.log("Felicidades ya tienes acceso a : "+obj.service_access),console.log("Si ocurrio un error, contactanos con este numero de pedido: "+obj.process_messages.numero_pedido+" a ascent.peru@gmail.com"),console.log("ticket: "+obj.process_messages.ticket),console.log("Datos del usuario: "+obj.user),window.location.href="/plataform-pricing/"+obj.user._id+"/key-pdf"):"venta_expirada"==tipo_respuesta_venta?(console.log("codigo respuesta: "+obj.process_messages.codigo_respuesta),console.log("mensaje respuesta: "+obj.process_messages.mensaje_respuesta),console.log("mensaje respuesta usuario: "+obj.process_messages.mensaje_respuesta_usuario),console.log(obj.process_messages.codigo_respuesta+", aun puedes tener acceso a : "+obj.service_access),console.log("Si ocurrio un error, contactanos con este numero de pedido: "+obj.process_messages.numero_pedido+" a ascent.peru@gmail.com"),console.log("ticket: "+obj.process_messages.ticket),console.log("Datos del usuario: "+obj.user),checkout.cerrar()):"error"==tipo_respuesta_venta?(console.log("codigo respuesta: "+obj.process_messages.codigo_respuesta),console.log("mensaje respuesta: "+obj.process_messages.mensaje_respuesta),console.log("mensaje respuesta usuario: "+obj.process_messages.mensaje_respuesta_usuario),console.log(obj.process_messages.codigo_respuesta+", aun puedes tener acceso a : "+obj.service_access),console.log("Si ocurrio un error, contactanos con este numero de pedido: "+obj.process_messages.numero_pedido+" a ascent.peru@gmail.com"),console.log("ticket: "+obj.process_messages.ticket),console.log("Datos del usuario: "+obj.user),checkout.cerrar()):"parametro_invalido"==tipo_respuesta_venta?(console.log("codigo respuesta: "+obj.process_messages.codigo_respuesta),console.log("mensaje respuesta: "+obj.process_messages.mensaje_respuesta),console.log("mensaje respuesta usuario: "+obj.process_messages.mensaje_respuesta_usuario),console.log(obj.process_messages.codigo_respuesta+", aun puedes tener acceso a : "+obj.service_access),console.log("Si ocurrio un error, contactanos con este numero de pedido: "+obj.process_messages.numero_pedido+" a ascent.peru@gmail.com"),console.log("ticket: "+obj.process_messages.ticket),console.log("Datos del usuario: "+obj.user),checkout.cerrar()):"error_procesamiento"==tipo_respuesta_venta?(console.log("codigo respuesta: "+obj.process_messages.codigo_respuesta),console.log("mensaje respuesta: "+obj.process_messages.mensaje_respuesta),console.log("mensaje respuesta usuario: "+obj.process_messages.mensaje_respuesta_usuario),console.log(obj.process_messages.codigo_respuesta+", aun puedes tener acceso a : "+obj.service_access),console.log("Si ocurrio un error, contactanos con este numero de pedido: "+obj.process_messages.numero_pedido+" a ascent.peru@gmail.com"),console.log("ticket: "+obj.process_messages.ticket),console.log("Datos del usuario: "+obj.user),checkout.cerrar()):(console.log("Algo exatraño paso, el proceso de pago No proceso, contactanos en ascent.peru@gmail.com"),console.log("codigo respuesta: "+obj.process_messages.codigo_respuesta),console.log("mensaje respuesta: "+obj.process_messages.mensaje_respuesta),console.log("mensaje respuesta usuario: "+obj.process_messages.mensaje_respuesta_usuario),console.log(obj.process_messages.codigo_respuesta+", aun puedes tener acceso a : "+obj.service_access),console.log("Si ocurrio un error, contactanos con este numero de pedido: "+obj.process_messages.numero_pedido+" a ascent.peru@gmail.com"),console.log("ticket: "+obj.process_messages.ticket),console.log("Datos del usuario: "+obj.user),checkout.cerrar())}},error:function(err){console.log("Error al obtener resultado: "+err)}})},culqi_front=function(checkout,message){console.log(checkout.respuesta),console.log("message: "+message)};$("#message_error")[0].innerHTML="",console.log("Resultado: "+type_send_service),console.log(resultado.status),console.log(resultado.message),console.log(resultado.help),console.log("SI ocurrio algun problema, contactanos con este numero de pedido: "+resultado.data.numero_pedido+" a mario@ascent.pe"),console.log("ticket de proceso: "+resultado.data.ticket);var checkout={codigo_comercio:resultado.data.codigo_comercio,informacion_venta:resultado.data.informacion_venta,respuesta:"",abrir:function(){if(""==checkout.informacion_venta)alert("Intente nuevamente. Si el problema persiste, contáctese con el Comercio.");else if(null==document.querySelector(".culqi_checkout")){var product="web",url="/api/v1/form/"+product+"/"+checkout.codigo_comercio+"/"+checkout.informacion_venta,iframe=document.createElement("IFRAME");iframe.setAttribute("src","https://integ-pago.culqi.com"+url),iframe.setAttribute("id","culqi_checkout_frame"),iframe.setAttribute("name","checkout_frame"),iframe.setAttribute("class","culqi_checkout"),iframe.setAttribute("allowtransparency","true"),iframe.setAttribute("frameborder","0"),iframe.style.zIndex=99999,iframe.style.display="block",iframe.style.backgroundColor="rgba(0,0,0,0)",iframe.style.border="0px none trasparent",iframe.style.overflowX="hidden",iframe.style.overflowY="auto",iframe.style.visibility="visible",iframe.style.margin="0px",iframe.style.position="fixed",iframe.style.left="0px",iframe.style.top="0px",iframe.style.width="100%",iframe.style.height="100%",iframe.style.backgroundPosition="initial initial",iframe.style.backgroundRepeat="initial initial",document.body.appendChild(iframe)}else alert("Ha ocurrido un problema, contáctese con el comercio."),checkout.cerrar()},autorizado:function(){iframe=document.getElementById("culqi_checkout_frame"),iframe.contentWindow.postMessage("autorizado","*")},denegado:function(){iframe=document.getElementById("culqi_checkout_frame"),iframe.contentWindow.postMessage("denegado","*")},cerrar:function(){var element=document.getElementById("culqi_checkout_frame");null==element||element.parentNode.removeChild(element)}};window.addEventListener("message",receiveMessage,!1),checkout.abrir()}else $("#message_error")[0].innerHTML=resultado.message,console.log("Resultado: "+type_send_service),console.log(resultado.status),console.log(resultado.message),console.log(resultado.help),console.log("SI ocurrio algun problema, contactanos con este numero de pedido: "+resultado.data.numero_pedido+" a ascent.peru@gmail.com"),console.log("ticket de proceso: "+resultado.data.ticket)}})}function sendForm(){var code_id=$(".FormToPay").data("id"),data={user:{nombres:$("#input_nombres").val(),apellidos:$("#input_apellidos").val(),tipo_doc:$("#input_tipo_doc").val(),doc_number:$("#input_doc_number").val(),fecha_nacimiento:$("#input_fecha_nacimiento").val(),email:$("#input_email").val(),domicilio:$("#input_domicilio").val()},contact_emergencia:{nombres:$("#input_emergencia_nombres").val(),apellidos:$("#input_emergencia_apellidos").val(),telefono:$("#input_emergencia_telefono").val(),email:$("#input_emergencia_email").val()}};$.ajax({url:"/plataform-pricing/"+code_id+"/purchare-buy/save",method:"POST",data:data,success:function(result){console.log(result),"ok"===result.status?(type_service="",type_service=material.premium,ConnectCulqi(user_id,type_service)):console.log("error")}})}console.log("Hollaaa");var material={premium:"premium"},user_id=document.querySelector("#user_id_plataforma").value,type_service="",$btnFormComprar=document.querySelector("#btnFormComprar");null!==$btnFormComprar&&$btnFormComprar.addEventListener("click",function(){sendForm()})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.pay=pay},function(module,exports,__webpack_require__){"use strict";function eventClickItems(){$(".btnBuy").on("click",function(){console.log(this.dataset.pack);var id=$(".PricingElements").data("id"),data2={pack_title:this.dataset.pack};$.ajax({url:"/plataform-pricing/"+id+"/purchare/buy-form",method:"POST",data:data2,success:function(result){console.log(result),"ok"===result.status?window.location.href="/plataform-pricing/"+result.code+"/purchare-form":console.log("error")}})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.eventClickItems=eventClickItems},function(module,exports,__webpack_require__){"use strict";function sendFormContact(){var $FormContactName=$("#FormContactName"),$FormContactEmail=$("#FormContactEmail"),$FormContactMessage=$("#FormContactMessage"),$FormContactError=$("#FormContactError");$FormContactError.css("display","none"),$FormContactError[0].innerHTML="";var data={name:$FormContactName.val(),email:$FormContactEmail.val(),message:$FormContactMessage.val()};if(console.log("Datos a enviar"),console.log(data),$FormContactName.css("border","1px solid transparent"),$FormContactEmail.css("border","1px solid transparent"),$FormContactMessage.css("border","1px solid transparent"),""!==data.name&&""!==data.email&&data.email.indexOf("@")!==-1)$.ajax({url:"/contact",method:"POST",data:data,success:function(result){console.log(result),"ok"===result.status?(console.log("MENSAJE OK"),$FormContactError.css("display","block"),$FormContactError[0].innerHTML=result.message):console.log("error")}});else{var msg="";""===data.name?(msg="El campo nombre es obligatorio",$FormContactName.css("border","1px solid #F3182B")):""===data.email?(msg="El campo email es obligatorio",$FormContactEmail.css("border","1px solid #F3182B")):data.email.indexOf("@")===-1?(msg="El campo email no es valido",$FormContactEmail.css("border","1px solid #F3182B")):msg="Los campos son obligatorios",$FormContactError.css("display","block"),$FormContactError[0].innerHTML=msg}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendFormContact=sendFormContact},function(module,exports,__webpack_require__){"use strict";function calDays(){if(""!==$("#input_salida").val()&&""!==$("#input_regreso").val()){var value_salida=moment($("#input_salida").val()),value_regreso=moment($("#input_regreso").val());console.log(value_regreso.diff(value_salida,"days")," dias de diferencia"),$("#input_dias").val(value_regreso.diff(value_salida,"days"))}}var _index=__webpack_require__(0),_index2=__webpack_require__(2),_index3=__webpack_require__(1),_index4=__webpack_require__(3);console.log("OK"),$("#btnFormCotizar").on("click",_index.sendFormCotizar),$("#btnFormContactSend").on("click",_index4.sendFormContact),$("#input_salida").on("input",function(){calDays()}),$("#input_regreso").on("input",function(){calDays()}),(0,_index2.eventClickItems)(),(0,_index3.pay)(),(0,_index4.sendFormContact)()}]);